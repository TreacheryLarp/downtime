
<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-10">
    <h1>Actions for {{ session_name }}</h1>
  </div>
</div>

<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-10">

    <div class="filter-actions-box" style="float: left;">
      Type:
      <select id="filter-actions-type" name="type">
        <option></option>
        {% for type in action_types %}
        <option>{{ type.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="filter-actions-box" style="float: left;">
      Character:
      <select id="filter-actions-character" name="character">
        <option></option>
        {% for character in characters %}
        <option>{{ character.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="filter-actions-box" style="float: left;">
      Resolved:
      <select id="filter-actions-resolved" name="resolved">
        <option></option>
        <option>Yes</option>
        <option>No</option>
      </select>
    </div>

    <table id="action-table" class="table">
      <thead>
        <tr>
          <th class="dynatable-head">Type</th>
          <th class="dynatable-head">Character</th>
          <th class="dynatable-head">Description</th>
          <th class="dynatable-head">Resolved</th>
        </tr>
      </thead>
      <tbody>
        {% for action in actions %}
        <tr class="clickableRow" data-href="{% url 'action' action.id %}">
          <td>{{ action.action_type.name }}</td>
          <td>{{ action.character.name }}</td>
          <td>{{ action.description|truncatechars:25 }}</td>
          <td>{{ action.resolved|yesno:"Yes,No" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

  </div>
</div>

<script>

  $('#action-table').dynatable({
    features: {
      paginate:     true,
      recordCount:  true,
      sorting:      true
    },
    inputs: {
      queries: $('#filter-actions-resolved,#filter-actions-type,#filter-actions-character'),
    },
    writers: {
      _rowWriter: clickableRowWriter
    },
    readers: {
      _rowReader: clickableRowReader
    }
  });

</script>
